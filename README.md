# AIR4 ‚Äî –õ–æ–∫–∞–ª—å–Ω—ã–π –æ—Ñ—Ñ–ª–∞–π–Ω-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç

## üìå –û–ø–∏—Å–∞–Ω–∏–µ
AIR4 ‚Äî —ç—Ç–æ –∞–≤—Ç–æ–Ω–æ–º–Ω—ã–π –ò–ò-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç —Å –¥–æ–ª–≥–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–π –ø–∞–º—è—Ç—å—é, —Ä–∞–±–æ—Ç–∞—é—â–∏–π –ø–æ–ª–Ω–æ—Å—Ç—å—é –ª–æ–∫–∞–ª—å–Ω–æ –Ω–∞ macOS (M-—Å–µ—Ä–∏—è).  
–ù–∞ —Ç–µ–∫—É—â–µ–º —ç—Ç–∞–ø–µ: LLM-—è–¥—Ä–æ (Mistral 7B) —á–µ—Ä–µ–∑ Ollama + FastAPI API.

## üöÄ –ó–∞–ø—É—Å–∫ (–ª–æ–∫–∞–ª—å–Ω–æ)

### 1. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞
# –ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
git clone <repo_url>
cd air4

# –°–æ–∑–¥–∞—Ç—å –æ–∫—Ä—É–∂–µ–Ω–∏–µ
python3 -m venv .venv
source .venv/bin/activate

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
pip install -r requirements.txt

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Ollama –∏ —Å–∫–∞—á–∞—Ç—å –º–æ–¥–µ–ª—å
brew install ollama
ollama pull mistral

### 2. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
cp .env.template .env
nano .env
# –ó–∞–¥–∞–π—Ç–µ:
# SAFE_WORD ‚Äî —Å–µ–∫—Ä–µ—Ç–Ω–æ–µ —Å–ª–æ–≤–æ –¥–ª—è –æ–ø–∞—Å–Ω—ã—Ö –∫–æ–º–∞–Ω–¥.
# PANIC_PHRASE ‚Äî –ø–∞–Ω–∏–∫-—Ñ—Ä–∞–∑–∞ –¥–ª—è –º–≥–Ω–æ–≤–µ–Ω–Ω–æ–π –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏.

### 3. –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞
make dev
# –∏–ª–∏
uvicorn backend.app.main:app --reload

### 4. –ü—Ä–æ–≤–µ—Ä–∫–∞
curl http://127.0.0.1:8000/health
curl -X POST "http://127.0.0.1:8000/chat" \
  -H "Content-Type: application/json" \
  -d '{"message":"–ü—Ä–∏–≤–µ—Ç"}'

## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
backend/        # –ö–æ–¥ API –∏ –ª–æ–≥–∏–∫–∞
memory/         # –ü–∞–º—è—Ç—å –∏ —ç–º–±–µ–¥–¥–∏–Ω–≥–∏ (–ø—É—Å—Ç–æ)
ui/             # –ö–∞—Ä–∫–∞—Å –±—É–¥—É—â–µ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
scripts/        # –°–∫—Ä–∏–ø—Ç—ã –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏
docs/           # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
.env.template   # –®–∞–±–ª–æ–Ω –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
Makefile        # –ó–∞–ø—É—Å–∫ –∏ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

## üìÖ –≠—Ç–∞–ø—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
–°–º. roadmap –≤ docs/ROADMAP.md

## Phase-10: RAG smoke

**–¶–µ–ª—å:** –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å —Å—Ç–∞–±–∏–ª—å–Ω–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ –∏–∑–≤–ª–µ—á–µ–Ω–∏—è –∑–Ω–∞–Ω–∏–π (retrieval) –Ω–∞ –ª–æ–∫–∞–ª—å–Ω–æ–º –∫–æ—Ä–ø—É—Å–µ `tests/rag_corpus/` –ø–æ–¥ —à—É–º–æ–º.

**–ó–µ–ª—ë–Ω—ã–π –∫—Ä–∏—Ç–µ—Ä–∏–π:** `avg p@3 ‚â• 0.7` –Ω–∞ —Å–∫—Ä–∏–ø—Ç–µ `scripts/smoke_phase10_rag.sh`.

**–õ–æ–∫–∞–ª—å–Ω—ã–π –ø—Ä–æ–≥–æ–Ω:**
```bash
make serve
make smoke-phase10
make kill-serve
```

**–ö–æ—Ä–ø—É—Å:**
- –î–æ–∫—É–º–µ–Ω—Ç—ã: `tests/rag_corpus/docs/` (–≤–∫–ª—é—á–∞—è —à—É–º –≤ `docs/noise/`)
- –ó–∞–ø—Ä–æ—Å—ã: `tests/rag_corpus/queries.tsv`

**CI:**
- Workflow: `.github/workflows/rag-smoke.yml`
- –î–∂–æ–± –ø–∞–¥–∞–µ—Ç, –µ—Å–ª–∏ `avg p@3 < 0.7`. –õ–æ–≥–∏ —Å–º–æ—É–∫–∞ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –∫–∞–∫ artifact.
